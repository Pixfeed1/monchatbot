<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mot de passe oublié</title>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Votre feuille de style -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}?v=2">
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="{{ url_for('static', filename='images/logo-placeholder.png') }}" alt="Logo de MonChatbot">
    </div>
    <h2>Réinitialisation du mot de passe</h2>

    {% if message %}
      <div class="success">{{ message }}</div>
    {% endif %}

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <form action="{{ url_for('main.forgot_password') }}" method="POST">
      <!-- Champ CSRF -->
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <!-- Nouveau mot de passe -->
      <div class="form-group">
        <label for="new_password">Nouveau mot de passe</label>
        <div class="input-wrapper">
          <input type="password" id="new_password" name="new_password" placeholder="Votre nouveau mot de passe" required autofocus>
          <i data-lucide="lock" class="input-icon"></i>
        </div>
      </div>

      <button type="submit">Réinitialiser le mot de passe</button>
    </form>

    <div class="footer">
      <p><a href="{{ url_for('main.login') }}">Retour à la connexion</a></p>
    </div>
  </div>

  <script>
    // Initialiser Lucide icons
    lucide.createIcons();
  </script>
</body>
</html>
